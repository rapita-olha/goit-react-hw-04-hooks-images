{"version":3,"sources":["components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ButtonUp/ButtonUp.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","App.module.css","components/SearchBar/SearchBar.module.css","components/SearchBar/SearchBar.js","services/image-search-api.js","components/ImageGallery/ErrorView/error-img.png","components/ImageGallery/ErrorView/ErrorView.js","components/ImageGallery/IdleView/welcome-sign.jpg","components/ImageGallery/IdleView/IdleView.js","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGalleryList/ImageGalleryList.js","components/Button/Button.js","components/Modal/Modal.js","components/ButtonUp/up-arrow.png","components/ButtonUp/ButtonUp.js","components/ImageGallery/ImageGallery.js","App.js","index.js"],"names":["module","exports","SearchBar","onSubmit","useState","inputValue","setInputValue","searchBar","s","searchForm","button","label","input","className","e","preventDefault","currentTarget","query","value","trim","normalizedQuery","toLowerCase","reset","toast","info","type","name","autoComplete","autoFocus","placeholder","onChange","ImageSearchApi","key","url","this","page","baseUrl","a","searchParams","URLSearchParams","q","axios","get","response","data","hits","searchQuery","newQuery","ErrorView","style","paddingTop","src","errorImg","alt","width","margin","IdleView","welcomeImg","ImageGalleryItem","image","webformatURL","tags","item","ImageGalleryList","images","trackScroll","handleOpenModal","gallery","useEffect","window","addEventListener","removeEventListener","onClick","map","id","Button","modalRoot","document","querySelector","Modal","closeModal","handleGalleryNav","imgIdx","children","modal","overlay","onGalleryNav","code","length","createPortal","target","ButtonUp","isVisible","visible","classNames","buttonUp","imageSearchApi","ImageGallery","setImages","showModal","setShowModal","showGoUpBtn","setShowGoUpBtn","showLoadMoreBtn","setShowLoadMoreBtn","showLoader","setShowLoader","activeIdx","setActiveIdx","status","setStatus","showImages","fetchData","fetchedImages","warning","prevImages","incrementPage","error","toggleModal","resetPage","scrollTo","top","documentElement","scrollHeight","behavior","nodeName","source","forEach","idx","findActiveIdx","scrolled","pageYOffset","coords","clientHeight","color","height","goBackToTop","scrollBy","setTimeout","largeImageURL","App","setQuery","grid","autoClose","theme","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.1b41e060.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__HIkjb\",\"item\":\"ImageGalleryItem_item__2Zjxo\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1SbXu\",\"Modal\":\"Modal_Modal__dGtcp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"ButtonUp_button__2SvSf\",\"visible\":\"ButtonUp_visible__3hNXg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1i_Wx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3XlSX\",\"Button\":\"Button_Button__376aZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"App_grid__2kDeq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchBar_searchForm__Vu2Bz\",\"button\":\"SearchBar_button__3IR2H\",\"label\":\"SearchBar_label__3pScr\",\"input\":\"SearchBar_input__O9dSR\",\"searchBar\":\"SearchBar_searchBar__qZi-v\"};","import { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport PropTypes from 'prop-types';\r\nimport s from 'components/SearchBar/SearchBar.module.css';\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n  function handleChange({ currentTarget: { value } }) {\r\n    setInputValue(value);\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (e.currentTarget.query.value.trim() === '') {\r\n      toast.info('please type a query');\r\n      return;\r\n    }\r\n    const normalizedQuery = e.currentTarget.query.value.trim().toLowerCase();\r\n    onSubmit(normalizedQuery);\r\n    e.currentTarget.reset();\r\n  }\r\n\r\n  const { searchBar, searchForm, button, label, input } = s;\r\n  return (\r\n    <header className={searchBar}>\r\n      <form className={searchForm} onSubmit={handleSubmit}>\r\n        <button type=\"submit\" className={button}>\r\n          <span className={label}>Search</span>\r\n        </button>\r\n\r\n        <input\r\n          className={input}\r\n          name=\"query\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n          value={inputValue}\r\n          onChange={handleChange}\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import axios from 'axios';\r\n\r\nexport default class ImageSearchApi {\r\n  constructor(key, url) {\r\n    this.query = '';\r\n    this.page = 1;\r\n    this.key = key;\r\n    this.baseUrl = url;\r\n  }\r\n\r\n  async fetchData() {\r\n    const searchParams = new URLSearchParams({\r\n      q: this.query,\r\n      page: this.page,\r\n      key: this.key,\r\n    });\r\n    const url = `${this.baseUrl}image_type=photo&orientation=horizontal&per_page=12&${searchParams}`;\r\n    const response = await axios.get(url);\r\n    return response.data.hits;\r\n  }\r\n\r\n  resetPage() {\r\n    this.page = 1;\r\n  }\r\n\r\n  incrementPage() {\r\n    this.page += 1;\r\n  }\r\n\r\n  get searchQuery() {\r\n    return this.searchQuery;\r\n  }\r\n\r\n  set searchQuery(newQuery) {\r\n    this.query = newQuery;\r\n  }\r\n}\r\n","export default __webpack_public_path__ + \"static/media/error-img.64aecb11.png\";","import errorImg from 'components/ImageGallery/ErrorView/error-img.png';\n\nexport default function ErrorView() {\n  return (\n    <div style={{ paddingTop: '100px' }}>\n      <img\n        src={errorImg}\n        alt=\"welcome\"\n        width={700}\n        style={{ margin: '0 auto' }}\n      />\n    </div>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/welcome-sign.ae2661a0.jpg\";","import welcomeImg from './welcome-sign.jpg';\r\n\r\nexport default function IdleView() {\r\n  return (\r\n    <div style={{ paddingTop: '100px' }}>\r\n      <img\r\n        src={welcomeImg}\r\n        alt=\"welcome\"\r\n        width={800}\r\n        style={{ margin: '0 auto' }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from 'components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ image: { webformatURL, tags } }) {\r\n  const { image, item } = s;\r\n  return (\r\n    <li className={item}>\r\n      <img src={webformatURL} alt={tags} className={image} />\r\n    </li>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string.isRequired,\r\n    tags: PropTypes.string.isRequired,\r\n  }).isRequired,\r\n};\r\n","import { useEffect } from 'react';\r\nimport ImageGalleryItem from 'components/ImageGallery/ImageGalleryItem';\r\nimport s from 'components/ImageGallery/ImageGallery.module.css';\r\n\r\nimport PropTypes from 'prop-types';\r\nexport default function ImageGalleryList({\r\n  images,\r\n  trackScroll,\r\n  handleOpenModal,\r\n}) {\r\n  const { gallery } = s;\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('scroll', trackScroll);\r\n    return window.removeEventListener('scroll', trackScroll);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return (\r\n    <ul className={gallery} onClick={handleOpenModal}>\r\n      {images &&\r\n        images.map(image => <ImageGalleryItem key={image.id} image={image} />)}\r\n    </ul>\r\n  );\r\n}\r\n\r\nImageGalleryList.propTypes = {\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n  showImages: PropTypes.func.isRequired,\r\n  handleOpenModal: PropTypes.func.isRequired,\r\n};\r\n","import PropTypes from 'prop-types';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  const { button } = s;\r\n  return (\r\n    <button type=\"button\" className={button} onClick={onClick}>\r\n      <span>Show more</span>\r\n    </button>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import { useEffect } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { createPortal } from 'react-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport s from 'components/Modal/Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({\r\n  closeModal,\r\n  handleGalleryNav,\r\n  imgIdx,\r\n  children,\r\n  images,\r\n}) {\r\n  const { modal, overlay } = s;\r\n\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', onGalleryNav);\r\n    return () => {\r\n      window.removeEventListener('keydown', onGalleryNav);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  function onGalleryNav({ code }) {\r\n    switch (code) {\r\n      case 'Escape':\r\n        closeModal();\r\n        break;\r\n\r\n      case 'ArrowRight':\r\n        if (imgIdx >= images.length - 1) {\r\n          handleGalleryNav((imgIdx = 0));\r\n        } else {\r\n          handleGalleryNav(++imgIdx);\r\n        }\r\n        break;\r\n\r\n      case 'ArrowLeft':\r\n        if (imgIdx <= 0) {\r\n          handleGalleryNav((imgIdx = images.length - 1));\r\n        } else {\r\n          handleGalleryNav(--imgIdx);\r\n        }\r\n        break;\r\n\r\n      default:\r\n        toast.info('Press ESC to exit');\r\n    }\r\n  }\r\n\r\n  const handleBackdropClick = ({ target, currentTarget }) => {\r\n    if (target === currentTarget) {\r\n      closeModal();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={overlay} onClick={handleBackdropClick}>\r\n      <div className={modal}>{children}</div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  closeModal: PropTypes.func.isRequired,\r\n  handleGalleryNav: PropTypes.func.isRequired,\r\n  imgIdx: PropTypes.number.isRequired,\r\n  images: PropTypes.arrayOf(PropTypes.shape).isRequired,\r\n};\r\n","export default __webpack_public_path__ + \"static/media/up-arrow.79fd32b5.png\";","import classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport buttonUp from './up-arrow.png';\r\nimport s from 'components/ButtonUp/ButtonUp.module.css';\r\n\r\nexport default function ButtonUp({ onClick, isVisible }) {\r\n  const { button, visible } = s;\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      className={isVisible ? classNames(button, visible) : button}\r\n      onClick={onClick}\r\n    >\r\n      <img src={buttonUp} alt=\"go up\" />\r\n    </button>\r\n  );\r\n}\r\n\r\nButtonUp.propTypes = {\r\n  isVisible: PropTypes.bool.isRequired,\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nimport ImageSearchApi from 'services/image-search-api';\nimport ErrorView from 'components/ImageGallery/ErrorView';\nimport IdleView from 'components/ImageGallery/IdleView';\nimport ImageGalleryList from 'components/ImageGallery/ImageGalleryList/ImageGalleryList';\nimport Button from 'components/Button';\nimport Modal from 'components/Modal';\nimport ButtonUp from 'components/ButtonUp/ButtonUp';\n\nconst KEY = '23099958-a9e73d010620c28e46bfb8a54';\nconst BASE_URL = 'https://pixabay.com/api/?';\nconst imageSearchApi = new ImageSearchApi(KEY, BASE_URL);\n\nexport default function ImageGallery({ query }) {\n  const [images, setImages] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [showGoUpBtn, setShowGoUpBtn] = useState(false);\n  const [showLoadMoreBtn, setShowLoadMoreBtn] = useState(false);\n  const [showLoader, setShowLoader] = useState(false);\n  const [activeIdx, setActiveIdx] = useState(0);\n  const [status, setStatus] = useState('idle');\n\n  useEffect(() => {\n    if (query.trim() === '') {\n      return;\n    }\n    setImages([]);\n    imageSearchApi.searchQuery = query;\n    imageSearchApi.resetPage();\n    showImages();\n  }, [query]);\n\n  useEffect(() => {\n    if (images.length < 12) {\n      setShowLoadMoreBtn(false);\n    } else {\n      setShowLoadMoreBtn(true);\n    }\n    if (images.length > 12) {\n      scrollDown();\n    }\n  }, [images.length, showLoadMoreBtn]);\n\n  async function showImages() {\n    setShowLoader(true);\n    try {\n      const fetchedImages = await imageSearchApi.fetchData();\n\n      if (fetchedImages.length === 0) {\n        toast.warning(\"Sorry, we couldn't find anything\");\n        setStatus('idle');\n        return;\n      }\n\n      setImages(prevImages => [...prevImages, ...fetchedImages]);\n      setStatus('resolved');\n      setShowLoader(false);\n      imageSearchApi.incrementPage();\n    } catch {\n      setStatus('rejected');\n      toast.error('Something went wrong...(');\n    }\n  }\n\n  function scrollDown() {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  function trackScroll() {\n    let scrolled = window.pageYOffset;\n    let coords = document.documentElement.clientHeight;\n\n    if (scrolled > coords) {\n      setShowGoUpBtn(true);\n    }\n    if (scrolled < coords) {\n      setShowGoUpBtn(false);\n    }\n  }\n\n  function goBackToTop() {\n    if (window.pageYOffset > 0) {\n      window.scrollBy(0, -80);\n      setTimeout(goBackToTop, 0);\n    }\n  }\n\n  function toggleModal() {\n    setShowModal(modal => !modal);\n  }\n\n  function onOpenModal({ target }) {\n    if (target.nodeName !== 'IMG') {\n      return;\n    }\n    const activeIdx = findActiveIdx(target.src);\n    setActiveIdx(activeIdx);\n    toggleModal();\n  }\n\n  function findActiveIdx(source) {\n    let activeIdx;\n    images.forEach(({ webformatURL }, idx) => {\n      if (webformatURL === source) {\n        activeIdx = idx;\n      }\n    });\n    return activeIdx;\n  }\n\n  if (status === 'idle') {\n    return <IdleView />;\n  }\n\n  if (status === 'rejected') {\n    return <ErrorView />;\n  }\n\n  if (status === 'resolved') {\n    return (\n      <>\n        <ImageGalleryList\n          images={images}\n          showImages={showImages}\n          handleOpenModal={onOpenModal}\n          trackScroll={trackScroll}\n        />\n        {showLoader && (\n          <Loader\n            type=\"Oval\"\n            color=\"#da5f01\"\n            height={80}\n            width={80}\n            style={{ margin: '0 auto' }}\n          />\n        )}\n        {showLoadMoreBtn && <Button onClick={showImages} />}\n\n        {<ButtonUp onClick={goBackToTop} isVisible={showGoUpBtn} />}\n        {showModal && (\n          <Modal\n            closeModal={toggleModal}\n            handleGalleryNav={setActiveIdx}\n            imgIdx={activeIdx}\n            images={images}\n          >\n            <img\n              src={images[activeIdx].largeImageURL}\n              alt={images[activeIdx].tags}\n              width={1000}\n            />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  query: PropTypes.string.isRequired,\n};\n","import { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\n\r\nimport SearchBar from 'components/SearchBar';\r\nimport ImageGallery from 'components/ImageGallery';\r\nimport s from './App.module.css';\r\n\r\nexport default function App() {\r\n  const [query, setQuery] = useState('');\r\n\r\n  const { grid } = s;\r\n  return (\r\n    <div className={grid}>\r\n      <SearchBar onSubmit={setQuery} />\r\n      <ImageGallery query={query} />\r\n      <ToastContainer autoClose={3000} theme=\"dark\" />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n);\r\n"],"sourceRoot":""}